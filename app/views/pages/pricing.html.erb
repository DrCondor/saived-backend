<%# Pricing Page %>
<section class="py-16 sm:py-24">
  <div class="max-w-6xl mx-auto px-4 sm:px-6">
    <div class="text-center mb-16">
      <p class="text-xs font-bold tracking-[0.2em] uppercase text-emerald-600 mb-3">Cennik</p>
      <h1 class="text-4xl sm:text-5xl font-bold text-neutral-900 mb-6">
        Prosty i przejrzysty cennik
      </h1>
      <p class="text-lg text-neutral-600 max-w-2xl mx-auto">
        Wybierz plan dopasowany do Twoich potrzeb. Zacznij za darmo,
        rozwijaj sie wraz z Twoim biznesem.
      </p>
    </div>

    <%# Pricing Toggle %>
    <div class="flex items-center justify-center gap-4 mb-12">
      <span class="text-sm font-medium text-neutral-900">Miesiecznie</span>
      <button class="relative w-14 h-7 rounded-full bg-neutral-200 transition-colors">
        <span class="absolute left-1 top-1 w-5 h-5 rounded-full bg-white shadow transition-transform"></span>
      </button>
      <span class="text-sm text-neutral-500">Rocznie <span class="text-emerald-600 font-medium">(-20%)</span></span>
    </div>

    <%# Pricing Cards %>
    <div class="grid md:grid-cols-3 gap-6 max-w-5xl mx-auto mb-20">
      <% [
        {
          name: "Starter",
          desc: "Idealny na poczatek",
          price: "0",
          period: "na zawsze",
          features: [
            { text: "3 aktywne projekty", included: true },
            { text: "50 produktow lacznie", included: true },
            { text: "Rozszerzenie Chrome", included: true },
            { text: "Eksport do PDF", included: true },
            { text: "Podstawowe wsparcie email", included: true },
            { text: "Sledzenie cen", included: false },
            { text: "Wlasny branding", included: false },
            { text: "Wspolpraca zespolowa", included: false }
          ],
          highlight: false,
          cta: "Zacznij za darmo"
        },
        {
          name: "Pro",
          desc: "Dla profesjonalistow",
          price: "49",
          period: "miesiecznie",
          features: [
            { text: "Nielimitowane projekty", included: true },
            { text: "Nielimitowane produkty", included: true },
            { text: "Rozszerzenie Chrome", included: true },
            { text: "Eksport do PDF", included: true },
            { text: "Priorytetowe wsparcie", included: true },
            { text: "Sledzenie cen w czasie rzeczywistym", included: true },
            { text: "Wlasny branding PDF", included: true },
            { text: "Historia zmian", included: true }
          ],
          highlight: true,
          cta: "Zacznij 14-dniowy trial"
        },
        {
          name: "Team",
          desc: "Dla zespolow i pracowni",
          price: "149",
          period: "miesiecznie",
          features: [
            { text: "Wszystko z Pro", included: true },
            { text: "Do 5 uzytkownikow", included: true },
            { text: "Wspoldzielone projekty", included: true },
            { text: "Panel administracyjny", included: true },
            { text: "Dedykowany opiekun", included: true },
            { text: "Dostep do API", included: true },
            { text: "SSO (Single Sign-On)", included: true },
            { text: "SLA 99.9%", included: true }
          ],
          highlight: false,
          cta: "Skontaktuj sie"
        }
      ].each do |plan| %>
        <div class="relative flex flex-col p-6 rounded-2xl border <%= plan[:highlight] ? 'border-emerald-500 bg-white shadow-xl ring-1 ring-emerald-500' : 'border-neutral-200 bg-white' %>">
          <% if plan[:highlight] %>
            <div class="absolute -top-4 left-1/2 -translate-x-1/2">
              <span class="rounded-full bg-emerald-500 px-4 py-1.5 text-xs font-semibold text-white shadow-lg">
                Najpopularniejszy
              </span>
            </div>
          <% end %>

          <div class="mb-6">
            <h3 class="text-xl font-bold text-neutral-900 mb-1"><%= plan[:name] %></h3>
            <p class="text-sm text-neutral-500"><%= plan[:desc] %></p>
          </div>

          <div class="mb-6">
            <span class="text-5xl font-bold text-neutral-900"><%= plan[:price] %></span>
            <span class="text-neutral-500"> zl / <%= plan[:period] %></span>
          </div>

          <ul class="space-y-3 mb-8 flex-1">
            <% plan[:features].each do |feature| %>
              <li class="flex items-start gap-3">
                <% if feature[:included] %>
                  <svg class="w-5 h-5 text-emerald-500 shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                  </svg>
                <% else %>
                  <svg class="w-5 h-5 text-neutral-300 shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
                  </svg>
                <% end %>
                <span class="text-sm <%= feature[:included] ? 'text-neutral-700' : 'text-neutral-400' %>">
                  <%= feature[:text] %>
                </span>
              </li>
            <% end %>
          </ul>

          <%= link_to plan[:name] == "Team" ? about_path : new_user_registration_path,
              class: "block w-full text-center rounded-full py-3 text-sm font-medium transition-all #{plan[:highlight] ? 'bg-neutral-900 text-white hover:bg-neutral-800' : 'border border-neutral-300 text-neutral-700 hover:bg-neutral-50'}" do %>
            <%= plan[:cta] %>
          <% end %>
        </div>
      <% end %>
    </div>

    <%# FAQ %>
    <div class="max-w-3xl mx-auto">
      <h2 class="text-2xl font-bold text-neutral-900 text-center mb-10">Czeste pytania</h2>

      <div class="space-y-4">
        <% [
          { q: "Czy moge zmienic plan w dowolnym momencie?", a: "Tak, mozesz upgradowac lub downgrade'owac swoj plan w kazdej chwili. Zmiana zostanie zastosowana natychmiast, a roznica w cenie zostanie proporcjonalnie rozliczona." },
          { q: "Co sie stanie po zakonczeniu trialu?", a: "Po 14-dniowym trialu Twoje konto przejdzie automatycznie na plan Starter (darmowy). Wszystkie Twoje dane zostana zachowane, ale niektore funkcje beda ograniczone." },
          { q: "Czy moge anulowac subskrypcje?", a: "Oczywiscie! Mozesz anulowac subskrypcje w dowolnym momencie. Bedziesz miec dostep do platnych funkcji do konca okresu rozliczeniowego." },
          { q: "Jakie metody platnosci akceptujecie?", a: "Akceptujemy wszystkie glowne karty kredytowe (Visa, Mastercard, American Express) oraz przelewy bankowe dla planow Team." },
          { q: "Czy oferujecie rabaty dla wiekszych zespolow?", a: "Tak! Dla zespolow powyzej 5 osob oferujemy indywidualne wyceny. Skontaktuj sie z nami, aby uzyskac oferte." }
        ].each_with_index do |faq, i| %>
          <details class="group rounded-2xl border border-neutral-200 bg-white">
            <summary class="flex items-center justify-between p-5 cursor-pointer">
              <span class="font-medium text-neutral-900"><%= faq[:q] %></span>
              <svg class="w-5 h-5 text-neutral-400 transition-transform group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </summary>
            <div class="px-5 pb-5">
              <p class="text-neutral-600 leading-relaxed"><%= faq[:a] %></p>
            </div>
          </details>
        <% end %>
      </div>
    </div>
  </div>
</section>

<%# Enterprise CTA %>
<section class="py-20 bg-neutral-900">
  <div class="max-w-4xl mx-auto px-4 sm:px-6 text-center">
    <h2 class="text-3xl font-bold text-white mb-4">
      Potrzebujesz wiecej?
    </h2>
    <p class="text-neutral-400 mb-8 max-w-2xl mx-auto">
      Dla duzych pracowni i agencji oferujemy plany Enterprise z indywidualnymi
      funkcjami, dedykowanym wsparciem i integracja z Twoimi systemami.
    </p>
    <%= link_to about_path, class: "inline-flex items-center gap-2 rounded-full bg-white px-6 py-3 text-sm font-medium text-neutral-900 hover:bg-neutral-100 transition-all" do %>
      Porozmawiajmy
      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
      </svg>
    <% end %>
  </div>
</section>
